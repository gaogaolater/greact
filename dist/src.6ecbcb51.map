{"version":3,"sources":["src/ReactDOM.js","src/React.js","src/index.js"],"names":["render","vnode","tag","component","dom","prototype","instance","attrs","componentWillMount","componentDidMount","base","document","createElement","key","setAttribute","children","length","forEach","node","textNode","createTextNode","appendChild","renderCom","container","innerHTML","val","test","toLowerCase","name","style","removeAttribute","ReactDOM","Component","props","state","stateChange","Object","assign","React","element","alert","color","Date","getTime","ComA","ComB","now","toLocaleTimeString","querySelector"],"mappings":"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","file":"src.6ecbcb51.map","sourceRoot":"..","sourcesContent":["export function render(vnode) {\n    if (typeof vnode.tag == \"function\") {\n        //console.log(vnode.tag);\n        let component, dom\n        if (vnode.tag.prototype.render) {\n            let instance = new vnode.tag(vnode.attrs);\n            if (instance.componentWillMount) {\n                instance.componentWillMount();\n            }\n            component = instance.render();\n            if (instance.componentDidMount) {\n                instance.componentDidMount();\n            }\n            dom = render(component);\n            instance.base = dom;\n        } else {\n            component = vnode.tag(vnode.attrs);\n            dom = render(component);\n        }\n        return dom;\n    } else {\n        var tag = document.createElement(vnode.tag);\n        if (vnode.attrs) {\n            for (var key in vnode.attrs) {\n                setAttribute(tag, key, vnode.attrs[key]);\n            }\n        }\n        if (vnode.children && vnode.children.length > 0) {\n            vnode.children.forEach(node => {\n                if (typeof node == \"string\" || typeof node == \"number\") {\n                    var textNode = document.createTextNode(node);\n                    tag.appendChild(textNode);\n                } else {\n                    render(node, tag);\n                }\n            })\n        }\n        return tag;\n    }\n}\n\nfunction renderCom(vnode,container){\n    container.innerHTML = \"\";\n    var dom = render(vnode);\n    container.appendChild(dom);\n}\n\nfunction setAttribute(dom, key, val) {\n    if (key == \"className\") key = \"class\";\n    if (/on\\w+/.test(key)) {\n        key = key.toLowerCase();\n        dom[key] = val || '';\n    } else if (key == \"style\") {\n        if (typeof val == \"string\") {\n            dom[key] = val;\n        } else if (typeof val == \"object\") {\n            for (let name in val) {\n                dom.style[name] = typeof val[name] == \"number\" ? val[name] + \"px\" : val[name];\n            }\n        }\n    } else {\n        if (val) {\n            dom.setAttribute(key, val);\n        } else {\n            dom.removeAttribute(key);\n        }\n    }\n}\n\nlet ReactDOM = {\n    render(vnode, container) {\n        if (vnode && container) {\n            renderCom(vnode, container);\n        }\n    }\n}\n\nexport default ReactDOM;","import { render } from './ReactDOM'\n\nfunction createElement(tag, attrs, ...children) {\n    return {\n        tag,\n        attrs,\n        children\n    }\n}\n\nclass Component {\n    constructor(props = {}) {\n        this.props = props;\n        this.state = {}\n    }\n\n    setState(stateChange) {\n        //this.base.parentNode.removeChild(this.base);\n        Object.assign(this.state, stateChange);\n        let vnode = this.render();\n        let dom = render(vnode);\n        // console.log(this.base.parentNode);\n        // this.base.parentNode.replaceChild(this.base, dom);\n    }\n}\n\nlet React = {\n    createElement,\n    Component\n}\n\nexport default React;","import React from './React.js'\nimport ReactDOM from './ReactDOM.js'\n\nconst element = (\n    <div className=\"wrap\" onClick={e => { alert(123) }}>\n        hello <span style={{ color: 'red' }}>world {new Date().getTime()}</span>\n    </div>\n)\n\nconst ComA = (props) => {\n    return <div style={{ color: 'green' }}>{props.name}</div>\n}\n\nclass ComB extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            now: new Date().toLocaleTimeString()\n        }\n    }\n\n    componentWillMount() {\n\n    }\n\n    componentDidMount() {\n        // this.timer = setInterval(() => {\n        //     this.setState({\n        //         now: new Date().toLocaleTimeString()\n        //     });\n        // }, 1000);\n    }\n\n    componentWillUpdate() {\n\n    }\n\n    componentDidUpdate() {\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    render() {\n        return <div>\n            <span>{this.props.name}:{this.state.now}</span>\n        </div>\n    }\n}\n\n//console.log('comb',ComB);\n\nReactDOM.render(\n    <div className=\"wrap\" onClick={e => { alert(123) }}>\n        hello <span style={{ color: 'red' }}>world</span>\n        <ComA name=\"ComAName\"></ComA>\n        <ComB name=\"ComBName\"></ComB>\n    </div>,\n    document.querySelector(\"#root\")\n);\n\n\n\n\n"]}