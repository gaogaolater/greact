{"version":3,"sources":["src/ReactDOM.js","src/React.js","src/index.js"],"names":["render","vnode","container","tag","component","prototype","instance","attrs","componentWillMount","document","createElement","key","setAttribute","children","length","forEach","node","textNode","createTextNode","appendChild","createComponent","func","setComponentProps","dom","val","test","toLowerCase","name","style","removeAttribute","ReactDOM","innerHTML","Component","props","state","stateChange","Object","assign","renderComponent","React","element","alert","color","Date","getTime","ComA","ComB","setInterval","toLocaleTimeString","querySelector"],"mappings":"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","file":"src.6ecbcb51.map","sourceRoot":"..","sourcesContent":["export function render(vnode, container) {\n    if (typeof vnode.tag == \"function\") {\n        //console.log(vnode.tag);\n        var component;\n        if (vnode.tag.prototype.render) {\n            let instance = new vnode.tag(vnode.attrs);\n            if (instance.componentWillMount) {\n                instance.componentWillMount();\n            }\n            component = instance.render();\n        } else {\n            component = vnode.tag(vnode.attrs);\n        }\n        render(component, container);\n    } else {\n        var tag = document.createElement(vnode.tag);\n        if (vnode.attrs) {\n            for (var key in vnode.attrs) {\n                setAttribute(tag, key, vnode.attrs[key]);\n            }\n        }\n        if (vnode.children && vnode.children.length > 0) {\n            vnode.children.forEach(node => {\n                if (typeof node == \"string\" || typeof node == \"number\") {\n                    var textNode = document.createTextNode(node);\n                    tag.appendChild(textNode);\n                } else {\n                    render(node, tag);\n                }\n            })\n        }\n        container.appendChild(tag);\n    }\n}\n\nfunction createComponent(func, attrs) {\n    var component = func(attrs);\n    return component;\n}\n\nfunction setComponentProps(component, attrs) {\n\n}\n\nfunction setAttribute(dom, key, val) {\n    if (key == \"className\") key = \"class\";\n    if (/on\\w+/.test(key)) {\n        key = key.toLowerCase();\n        dom[key] = val || '';\n    } else if (key == \"style\") {\n        if (typeof val == \"string\") {\n            dom[key] = val;\n        } else if (typeof val == \"object\") {\n            for (let name in val) {\n                dom.style[name] = typeof val[name] == \"number\" ? val[name] + \"px\" : val[name];\n            }\n        }\n    } else {\n        if (val) {\n            dom.setAttribute(key, val);\n        } else {\n            dom.removeAttribute(key);\n        }\n    }\n}\n\nlet ReactDOM = {\n    render(vnode, container) {\n        if (vnode && container) {\n            container.innerHTML = \"\";\n            render(vnode, container);\n        }\n    }\n}\n\nexport default ReactDOM;","import { render } from './ReactDOM'\n\nfunction createElement(tag, attrs, ...children) {\n    return {\n        tag,\n        attrs,\n        children\n    }\n}\n\nclass Component {\n    constructor(props = {}) {\n        this.props = props;\n        this.state = {}\n    }\n\n    setState(stateChange) {\n        Object.assign(this.state, stateChange);\n        renderComponent(this);\n    }\n}\n\nfunction renderComponent(component) {\n    var dom = component.render();\n    render(dom);\n}\n\n\n// function render(vnode, container) {\n//     if (typeof vnode.tag == \"function\") {\n//         //console.log(vnode.tag);\n//         var instance;\n//         if (vnode.tag.render) {\n//             instance = new vnode.tag(vnode.attrs);\n//         } else {\n//             instance = {\n//                 render: function () {\n//                     return vnode.tag(vnode.attrs)\n//                 }\n//             }\n//         }\n//         if (instance.componentWillMount) {\n//             instance.componentWillMount();\n//         }\n//         var component = instance.render();\n//         render(component, container);\n//     } else {\n//         var tag = document.createElement(vnode.tag);\n//         if (vnode.attrs) {\n//             for (var key in vnode.attrs) {\n//                 setAttribute(tag, key, vnode.attrs[key]);\n//             }\n//         }\n//         if (vnode.children && vnode.children.length > 0) {\n//             vnode.children.forEach(node => {\n//                 if (typeof node == \"string\" || typeof node == \"number\") {\n//                     var textNode = document.createTextNode(node);\n//                     tag.appendChild(textNode);\n//                 } else {\n//                     render(node, tag);\n//                 }\n//             })\n//         }\n//         container.appendChild(tag);\n//     }\n// }\n\nlet React = {\n    createElement,\n    Component\n}\n\nexport default React;","import React from './React.js'\nimport ReactDOM from './ReactDOM.js'\n\nconst element = (\n    <div className=\"wrap\" onClick={e => { alert(123) }}>\n        hello <span style={{ color: 'red' }}>world {new Date().getTime()}</span>\n    </div>\n)\n\nconst ComA = (props) => {\n    return <div style={{ color: 'green' }}>{props.name}</div>\n}\n\nclass ComB extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentWillMount() {\n\n    }\n\n    componentDidMount() {\n\n    }\n\n    componentWillUpdate() {\n\n    }\n\n    componentDidUpdate() {\n\n    }\n\n    componentWillUnmount() {\n\n    }\n\n    render() {\n        return <div>\n            <span>{this.props.name}</span>\n        </div>\n    }\n}\n\n//console.log('comb',ComB);\n\nsetInterval(() => {\n    ReactDOM.render(\n        <div className=\"wrap\" onClick={e => { alert(123) }}>\n            hello <span style={{ color: 'red' }}>world {new Date().toLocaleTimeString()}</span>\n            <ComA name=\"ComAName\"></ComA>\n            <ComB name=\"ComBName\"></ComB>\n        </div>,\n        document.querySelector(\"#root\")\n    );\n}, 1000)\n\n\n\n\n"]}